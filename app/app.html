<head>
  <title>Coming Soon</title>

  <link href='http://fonts.googleapis.com/css?family=Raleway' rel='stylesheet' type='text/css'>
</head>

<body>
  {{> header}}
  <div class='container'>
    <div id='content-wrapper'>
      <div class='row'>
        <div class='span12'>
            {{renderPage}}
        </div>
      </div>
    </div>
  </div>
</body>

<template name="header">
    <header class='navbar navbar-fixed-top navbar-inverse'>
    <nav class='navbar-inner'>
      <div class='container'>
        <a href="/" class="brand">Meteor - Coming Soon Email Capture</a>
        <ul class='nav pull-right'>
          <li><a href="mailto:hello@example.com">Contact</a></li>
          <!-- Login is only relevant to Admin users - moved to footer to de-emphasize
          <li><a href="/users/sign_in">Login</a></li>
          -->
        </ul>
      </div>
    </nav>
  </header>
</template>

<template name="landing">
  <div id="welcome">
    <div class="hero-unit">
      <h1>This and that<br>with <span style="color:#0073cc;">these</span> things</h1>
      <p>And a witty tagline goes here<br>
        This is. What you. Might do. With it.</p>
    </div>
    <div id="well" class="row well">
      <div class="span4 offset2 text_only">We're fanatical about the speed of our service. To ensure a great experience for all of our users we're inviting people on a rolling basis. Enter your email to the right and we'll keep you posted on our progress. We'll get you your invite as soon as we can!
      </div>
      <div class="span4">
        <div id="request-invite" class="form-inline">
            {{> signup}}
        </div>
      </div>
    </div>
  </div>
</template>

<template name="signup">
  {{#if emailSubmitted }}
  <div id="thanks">
    <h1>Thank You!</h1>
    Check your inbox to confirm your email
  </div>
  {{else }}
    <form id="mailchimp-email-capture">
      {{#if showBadEmail}}
        {{> badEmail}}
      {{else }}
      <label style="display: block;">Launching soon.</label>
      {{/if}}
      <div class="input-prepend">
        <span class="add-on"><i class="icon-envelope"></i></span>
        <input type="text" value="" class="" id="email-for-mailchimp" placeholder="Your email address..." size="30">
      </div>
      <input type="submit" value="Notify Me" name="submit" id="mailchimp-submit" class="btn btn-primary"><p class="help-block">No spam. Just a heads up when we're ready for you.</p>
    </form>
  {{/if}}

</template>

<template name="badEmail">
  <div id="email-submit-error" class="alert alert-danger">
    Please enter a valid email
  </div>
</template>

<template name="adminLogin">
  {{> loginButtons}}
</template>

<template name="admin">
  <!-- Many thanks to the FrozenRidge crew for the admin functionality -->
  <!-- <a href = "http://frozenridge.co">FrozenRidge | Solving hard problems for business</a> -->

  <h1>Administrators</h1>
  {{> loginButtons}}

  {{#if isAdmin}}
  <div class="well top-buffer">
   <h3>Signed up Customers</h3>
    <table>
      <tr><th>Customer Email</th><th>Referrer</th><th>Time</th></tr>
      {{#each emails}}
        <tr><td>{{ this.email }}</td><td>{{ this.referrer }}</td><td>{{ this.timestamp }}</td></tr>
      {{/each }}
    </table>
  </div>
  {{/if}}

</template>
